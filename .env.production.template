# ============================================
# PRODUCTION ENVIRONMENT VARIABLES TEMPLATE
# ============================================
# Copy this file to .env.production and fill in your values
# All values marked REQUIRED must be set for production deployment

# ============================================
# DATABASE CONFIGURATION
# ============================================

# PostgreSQL Database URL (REQUIRED)
# Format: postgresql://username:password@host:port/database
# Recommended: Use connection pooling for production
DATABASE_URL="postgresql://username:password@host:5432/carwash?sslmode=require&connection_limit=10"

# Database backup encryption key (REQUIRED)
# Generate: openssl rand -hex 32
BACKUP_ENCRYPTION_KEY=""

# ============================================
# AUTHENTICATION & SECURITY
# ============================================

# NextAuth Configuration (REQUIRED)
# Your production URL (without trailing slash)
NEXTAUTH_URL="https://yourdomain.com"

# NextAuth Secret (REQUIRED)
# Generate: openssl rand -base64 64
NEXTAUTH_SECRET=""

# Admin Credentials (REQUIRED for initial setup)
# Change immediately after first login
ADMIN_EMAIL="admin@yourdomain.com"
ADMIN_PASSWORD=""

# JWT Secret for API tokens (REQUIRED)
# Generate: openssl rand -hex 32
JWT_SECRET=""

# ============================================
# EMAIL CONFIGURATION (SendGrid)
# ============================================

# SendGrid API Key (REQUIRED)
SENDGRID_API_KEY="SG."

# Sender Email (REQUIRED)
# Must be verified in SendGrid
SENDER_EMAIL="noreply@yourdomain.com"

# Admin notification email (REQUIRED)
ADMIN_NOTIFICATION_EMAIL="admin@yourdomain.com"

# ============================================
# SMS CONFIGURATION (Twilio)
# ============================================

# Twilio Account SID (REQUIRED)
TWILIO_ACCOUNT_SID="AC"

# Twilio Auth Token (REQUIRED)
TWILIO_AUTH_TOKEN=""

# Twilio Phone Number (REQUIRED)
# Format: +1234567890
TWILIO_FROM=""

# ============================================
# PAYMENT PROCESSING (Stripe)
# ============================================

# Stripe Secret Key (REQUIRED)
STRIPE_SECRET_KEY="sk_live_"

# Stripe Publishable Key (REQUIRED)
STRIPE_PUBLISHABLE_KEY="pk_live_"

# Stripe Webhook Secret (REQUIRED)
# Get from Stripe Dashboard > Webhooks
STRIPE_WEBHOOK_SECRET="whsec_"

# Stripe webhook endpoint URL
STRIPE_WEBHOOK_URL="https://yourdomain.com/api/payment/webhook"

# ============================================
# SPAM PROTECTION
# ============================================

# Google reCAPTCHA v3 (REQUIRED)
RECAPTCHA_SITE_KEY=""
RECAPTCHA_SECRET_KEY=""

# Honeypot field name
HONEYPOT_FIELD="_gotcha"

# ============================================
# MONITORING & ANALYTICS
# ============================================

# Sentry DSN (REQUIRED)
SENTRY_DSN="https://xxx@xxx.ingest.sentry.io/xxx"

# Sentry Organization
SENTRY_ORG=""

# Sentry Project
SENTRY_PROJECT=""

# Sentry Auth Token (for source maps)
SENTRY_AUTH_TOKEN=""

# Performance monitoring sample rate (0.0 to 1.0)
SENTRY_TRACES_SAMPLE_RATE="0.1"

# Monitoring webhook for alerts (REQUIRED)
# Slack, Discord, or custom webhook URL
MONITORING_WEBHOOK_URL=""

# Uptime monitoring ping URL (optional)
UPTIME_PING_URL=""

# ============================================
# RATE LIMITING
# ============================================

# Rate limit window in milliseconds
RATE_LIMIT_WINDOW_MS="900000"  # 15 minutes

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS="100"

# Rate limit for booking endpoints
BOOKING_RATE_LIMIT_MAX="5"

# Rate limit for auth endpoints
AUTH_RATE_LIMIT_MAX="10"

# ============================================
# APPLICATION SETTINGS
# ============================================

# Node environment
NODE_ENV="production"

# Application URL (REQUIRED)
NEXT_PUBLIC_SITE_URL="https://yourdomain.com"

# Site name
NEXT_PUBLIC_SITE_NAME="Kiilto & Loisto"

# Default locale
NEXT_PUBLIC_DEFAULT_LOCALE="fi"

# Available locales (comma separated)
NEXT_PUBLIC_LOCALES="fi,en"

# Timezone
TZ="Europe/Helsinki"

# Log level (error, warn, info, debug)
LOG_LEVEL="error"

# Enable debug mode (never in production)
DEBUG="false"

# ============================================
# CDN & ASSETS
# ============================================

# CDN URL for static assets (optional)
CDN_URL=""

# Image optimization service URL (optional)
IMAGE_OPTIMIZATION_URL=""

# Maximum upload size in MB
MAX_UPLOAD_SIZE="10"

# ============================================
# GOOGLE SERVICES (Optional)
# ============================================

# Google Maps API Key
NEXT_PUBLIC_GOOGLE_MAPS_API_KEY=""

# Google Analytics ID
NEXT_PUBLIC_GA_TRACKING_ID="G-"

# Google Tag Manager ID
NEXT_PUBLIC_GTM_ID="GTM-"

# ============================================
# FEATURE FLAGS
# ============================================

# Enable maintenance mode
MAINTENANCE_MODE="false"

# Enable booking system
ENABLE_BOOKINGS="true"

# Enable payment processing
ENABLE_PAYMENTS="true"

# Enable SMS notifications
ENABLE_SMS="true"

# Enable email notifications
ENABLE_EMAIL="true"

# Enable admin dashboard
ENABLE_ADMIN="true"

# Enable API rate limiting
ENABLE_RATE_LIMIT="true"

# Enable GDPR features
ENABLE_GDPR="true"

# ============================================
# SECURITY SETTINGS
# ============================================

# CORS allowed origins (comma separated)
CORS_ALLOWED_ORIGINS="https://yourdomain.com"

# Session cookie settings
SESSION_COOKIE_SECURE="true"
SESSION_COOKIE_HTTPONLY="true"
SESSION_COOKIE_SAMESITE="lax"
SESSION_MAX_AGE="2592000"  # 30 days in seconds

# Password requirements
MIN_PASSWORD_LENGTH="12"
REQUIRE_PASSWORD_UPPERCASE="true"
REQUIRE_PASSWORD_LOWERCASE="true"
REQUIRE_PASSWORD_NUMBER="true"
REQUIRE_PASSWORD_SPECIAL="true"

# Account lockout settings
MAX_LOGIN_ATTEMPTS="5"
LOCKOUT_DURATION_MINUTES="30"

# ============================================
# BACKUP & RECOVERY
# ============================================

# Backup storage (s3, azure, local)
BACKUP_STORAGE_TYPE="s3"

# S3 Backup Configuration (if using S3)
AWS_ACCESS_KEY_ID=""
AWS_SECRET_ACCESS_KEY=""
AWS_REGION="eu-north-1"
S3_BACKUP_BUCKET=""

# Backup retention days
BACKUP_RETENTION_DAYS="30"

# Enable automated backups
ENABLE_AUTO_BACKUP="true"

# Backup schedule (cron format)
BACKUP_SCHEDULE="0 2 * * *"  # 2 AM daily

# ============================================
# NOTES
# ============================================
#
# 1. Generate secure random values:
#    - openssl rand -hex 32     (for secrets)
#    - openssl rand -base64 64   (for long secrets)
#    - uuidgen                   (for UUIDs)
#
# 2. Never commit this file with real values to version control
#
# 3. Use a password manager or secret management service for production
#
# 4. Rotate all secrets regularly (recommended: every 90 days)
#
# 5. Set up monitoring alerts for all critical services
#
# 6. Test your backup and recovery procedures regularly
#
# 7. Keep this template updated with any new environment variables